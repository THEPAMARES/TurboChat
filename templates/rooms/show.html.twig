{% extends 'layouts/base.html.twig' %}

{% block title 'Room #' ~ room.id %}

{% block body %}

    <turbo-frame id="room">
        <h1> Name: {{ room.name }} </h1>

        <p>
            <a href='{{ path('app_rooms_edit', {'id': room.id}) }}' > Edit </a>
            <a href='{{ path('app_rooms_index') }}'data-turbo-frame="_top"> Back </a>
        </p>  
    </turbo-frame>

    {# <p>
        {{ 'now'|date('d/m/Y H:i:s') }}
    </p> #}

    {% for message in room.message %}
        <div>  {{ message.createdAt|date('d M H:i') }}: {{ message.content }} </div>
    
    {% endfor %}
    
    {# <p>
        <a href='{{ path('app_messages_new', {'room': room.id}) }}'> New Message </a>
    </p> #}

    <turbo-frame id="new_message" src="{{ path('app_messages_new', {'room': room.id}) }}" target="_top">
        loading...
    </turbo-frame>

{% endblock %}
